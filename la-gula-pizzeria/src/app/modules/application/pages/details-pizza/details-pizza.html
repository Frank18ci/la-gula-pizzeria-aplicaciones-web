<div class="flex flex-col md:flex-row gap-8 p-6 bg-gray-50 min-h-screen">
  
  <div class="flex-1 bg-white rounded-2xl shadow-md p-6">
    <div class="flex flex-col items-center">
      <img
        [src]="rootImagePizza + pizza.image"
        alt="{{ pizza.name }}"
        class="w-80 h-80 object-cover rounded-xl shadow"
      />
      <h1 class="text-3xl font-semibold mt-4 text-gray-800">{{ pizza.name }}</h1>

      
      <div class="flex items-center text-yellow-500 mt-2">
        <mat-icon *ngFor="let s of [1, 2, 3, 4, 5]">star</mat-icon>
        <span class="ml-2 text-gray-600">(120 reviews)</span>
      </div>

      
      <p class="text-gray-600 mt-4 text-center px-4">
        {{ pizza.description }}
      </p>
    </div>

    
    <div class="mt-6 space-y-6">
      
      <div>
        <h3 class="font-semibold text-gray-800 mb-2">Tamaño</h3>
        <mat-radio-group
          [(ngModel)]="selectedSize"
          (change)="updatePrice()"
          class="flex gap-4 flex-wrap"
        >
          <mat-radio-button *ngFor="let size of sizes" [value]="size">
            {{ size.name }} (+{{ size.priceMultiplier | number: '1.0-2' }}x)
          </mat-radio-button>
        </mat-radio-group>
      </div>

      
      <div>
        <h3 class="font-semibold text-gray-800 mb-2">Tipo de Masa</h3>
        <mat-form-field appearance="outline" class="w-full">
          <mat-select [(ngModel)]="selectedDough" (selectionChange)="updatePrice()">
            <mat-option *ngFor="let dough of doughs" [value]="dough">
              {{ dough.name }} (+{{ dough.extraPrice | currency }})
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      
      <div>
        <h3 class="font-semibold text-gray-800 mb-2">Tipo de Queso</h3>
        <mat-form-field appearance="outline" class="w-full">
          <mat-select [(ngModel)]="selectedCheese" (selectionChange)="updatePrice()">
            <mat-option *ngFor="let cheese of cheeses" [value]="cheese">
              {{ cheese.name }} (+{{ cheese.extraPrice | currency }})
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      
      <div class="mb-6">
        <h2 class="text-xl font-semibold mb-3">Toppings Adicionales</h2>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
          <div
            *ngFor="let topping of toppings"
            class="flex flex-col items-center p-3 border rounded-lg shadow-sm hover:shadow-md transition"
          >
            <img
              [src]="rootImageTopping + topping.image"
              alt="{{ topping.name }}"
              class="w-16 h-16 object-cover rounded-full mb-2"
            />
            <p class="text-sm font-medium mb-1">{{ topping.name }}</p>
            <p class="text-xs text-gray-500 mb-1">{{ topping.basePrice | currency }}</p>

            <mat-slide-toggle
              color="primary"
              [checked]="isToppingSelected(topping)"
              (change)="toggleTopping(topping)"
            >
              Añadir
            </mat-slide-toggle>
          </div>
        </div>
      </div>
    </div>
  </div>

  
  <div class="w-full md:w-1/3 bg-white shadow-md rounded-2xl p-6 sticky top-10 h-fit">
    <h2 class="text-xl font-semibold text-gray-800 mb-4">Resumen del Pedido</h2>

    <div class="text-gray-600 space-y-2">
      <p><span class="font-medium">Tamaño:</span> {{ selectedSize?.name }}</p>
      <p><span class="font-medium">Masa:</span> {{ selectedDough?.name }}</p>
      <p><span class="font-medium">Queso:</span> {{ selectedCheese?.name }}</p>
      <p>
        <span class="font-medium">Toppings:</span>
        {{ selectedToppings.length }} seleccionados
      </p>
    </div>

    <div class="border-t mt-4 pt-4">
      <p class="text-lg font-semibold text-gray-800">
        Total:
        <span class="text-green-600">{{ totalPrice | currency }}</span>
      </p>
    </div>

    <div class="flex flex-col gap-3 mt-6">
      <button
        mat-raised-button
        color="primary"
        class="py-3 text-lg font-semibold rounded-xl"
        (click)="addToCart()"
      >
        Add to Cart
      </button>
      <button
        mat-stroked-button
        color="accent"
        class="py-3 text-lg font-semibold rounded-xl"
        (click)="orderNow()"
      >
       Order Now
      </button>
    </div>
  </div>
</div>
