<div class="container mx-auto">
    <h1 class="text-3xl font-semibold mb-2">Dashboard</h1>
    <p class="text-gray-600">Resumen de las operaciones de la pizzeria</p>
    <div class="grid md:grid-cols-3 gap-2 mt-6">
        <div
            class="p-4 bg-white rounded-lg shadow-md border border-transparent hover:border-gray-300 transition-all duration-300">
            <h2 class="text-xl mb-2">Ordenes Totales</h2>
            <p class="text-3xl font-semibold">{{ orderCount }}</p>
        </div>
        <div
            class="p-4 bg-white rounded-lg shadow-md border border-transparent hover:border-gray-300 transition-all duration-300">
            <h2 class="text-xl mb-2">Ingresos Totales</h2>
            <p class="text-3xl font-semibold">S/. {{ totalRevenue }}</p>
        </div>
        <div
            class="p-4 bg-white rounded-lg shadow-md border border-transparent hover:border-gray-300 transition-all duration-300">
            <h2 class="text-xl mb-2">Clientes</h2>
            <p class="text-3xl font-semibold">{{ customerCount }}</p>
        </div>
    </div>
    <div
        class="bg-white p-4 shadow-md rounded-lg border border-transparent hover:border-gray-300 transition-all duration-300 mt-6">
        <h2 class="text-xl mb-2 font-semibold">Órdenes en Estados</h2>
        <div class="space-y-4 w-full">
            @for (status of getKeyValues(); track status.key) {
            <div class="w-full">
                <div class="flex justify-between mb-1">
                    <span class="text-sm font-semibold text-gray-800">{{ status.key }}</span>
                    <span class="text-sm text-gray-600">{{ status.value }}</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                    <div class="h-3 rounded-full bg-linear-to-r from-yellow-400 to-orange-600 transition-all duration-500"
                        [style.width.%]="getBarWidth(status.value)"></div>
                </div>
            </div>
            }
        </div>
    </div>
    <div
        class="bg-white p-4 shadow-md rounded-lg border border-transparent hover:border-gray-300 transition-all duration-300 mt-6">
        <h3 class="text-xl mb-2 font-semibold">Productos Más Vendidos</h3>
        <table class="w-full table-auto border-collapse">
            <thead>
                <tr class="bg-gray-100 text-lg text-gray-500 *:py-2 *:px-0.5">
                    <th class="text-left">Pizzas</th>
                    <th class="text-left">Precio</th>
                    <th class="text-left">Estado</th>
                </tr>
            </thead>
            <tbody class="text-gray-800">
                @for(pizza of pizzas; track pizza.id){
                <tr class="border-t border-gray-200 hover:bg-gray-50 *:py-2">
                    <td>{{ pizza.name }}</td>
                    <td>S/. {{ pizza.basePrice }}</td>
                    <td>{{ pizza.active ? 'Activo' : 'Inactivo' }}</td>
                </tr>
                }
            </tbody>
        </table>
    </div>
</div>